{
  "_format": "hh-sol-artifact-1",
  "contractName": "NaiveChannel",
  "sourceName": "contracts/NaiveChannel.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        }
      ],
      "name": "wrongChannel",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        }
      ],
      "name": "wrongSideChannel",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nft",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "wrongTokenOwner",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user1",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user2",
          "type": "address"
        }
      ],
      "name": "CreateChannel",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "toNotifyUser",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "msg",
          "type": "string"
        }
      ],
      "name": "NewMessage",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "sentFromUser",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "msg",
          "type": "string"
        }
      ],
      "name": "SentMessage",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "channelById",
      "outputs": [
        {
          "internalType": "address",
          "name": "nft1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "nft2",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "token1",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "token2",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "muteToken1",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "muteToken2",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "msg1",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "msg2",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nft",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "checkOwnerOfToken",
      "outputs": [],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nft1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "nft2",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "user2",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId1",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenId2",
          "type": "uint256"
        }
      ],
      "name": "createChannel",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "readMsg",
      "outputs": [
        {
          "internalType": "string",
          "name": "encryptText",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "channelId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "nft",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "encryptToMsg",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "encryptFromMsg",
          "type": "string"
        }
      ],
      "name": "sendMsg",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610db6806100206000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806312e43ec11461005c5780638b90109c14610071578063d2e3922d14610097578063dc6a4c10146100b7578063f029c18c146100ca575b600080fd5b61006f61006a366004610b4b565b6100f1565b005b61008461007f366004610ade565b6101d1565b6040519081526020015b60405180910390f35b6100aa6100a5366004610c2a565b61037a565b60405161008e9190610d04565b61006f6100c5366004610ba3565b610584565b6100dd6100d8366004610b8b565b610832565b60405161008e989796959493929190610c96565b6040516331a9108f60e11b81526004810182905283906000906001600160a01b03831690636352211e9060240160206040518083038186803b15801561013657600080fd5b505afa15801561014a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061016e9190610abb565b9050806001600160a01b0316846001600160a01b0316146101ca5760405162461bcd60e51b81526020600482015260116024820152703bb7b93733903a37b5b2b71037bbb732b960791b60448201526064015b60405180910390fd5b5050505050565b60006101de8786856100f1565b6101e98685846100f1565b6000604051806101000160405280896001600160a01b03168152602001886001600160a01b0316815260200185815260200184815260200160001515815260200160001515815260200160405180602001604052806000815250815260200160405180602001604052806000815250815250905061026b600180546001019055565b600061027660015490565b60008181526020818152604091829020855181546001600160a01b039182166001600160a01b03199182161783558388015160018401805491909316911617905591850151600283015560608501516003830155608085015160048301805460a088015115156101000261ff00199315159390931661ffff199091161791909117905560c085015180519394508593610315926005850192019061099b565b5060e0820151805161033191600684019160209091019061099b565b50506040516001600160a01b03808916925089169083907f1492b5192f7bb12723ebf90b991296ee902cd6723b88f38e9a0ec3c2404d899790600090a498975050505050505050565b6000828152602081815260408083208151610100808201845282546001600160a01b039081168352600184015416948201949094526002820154928101929092526003810154606083810191909152600482015460ff80821615156080860152949004909316151560a083015260058101805493949360c0840191906103ff90610d17565b80601f016020809104026020016040519081016040528092919081815260200182805461042b90610d17565b80156104785780601f1061044d57610100808354040283529160200191610478565b820191906000526020600020905b81548152906001019060200180831161045b57829003601f168201915b5050505050815260200160068201805461049190610d17565b80601f01602080910402602001604051908101604052809291908181526020018280546104bd90610d17565b801561050a5780601f106104df5761010080835404028352916020019161050a565b820191906000526020600020905b8154815290600101906020018083116104ed57829003601f168201915b50505050508152505090508060400151831415801561052d575080606001518314155b1561054e5760405163ae11a8db60e01b8152600481018590526024016101c1565b80604001518314156105655760e00151905061057e565b806060015183141561057c5760c00151905061057e565b505b92915050565b6000858152602081905260409020600281015484148015906105aa575080600301548414155b156105cb5760405163ae11a8db60e01b8152600481018790526024016101c1565b80546001600160a01b038681169116148015906105f8575060018101546001600160a01b03868116911614155b156106195760405163ae11a8db60e01b8152600481018790526024016101c1565b80546001600160a01b0386811691161480156106385750806002015484145b15610785578054610653906001600160a01b031633866100f1565b8251610668906005830190602086019061099b565b50600181015460038201546040516331a9108f60e11b81526001600160a01b03909216916000918391636352211e916106a79160040190815260200190565b60206040518083038186803b1580156106bf57600080fd5b505afa1580156106d3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f79190610abb565b9050806001600160a01b0316887f1ab234db2d5e3b8ec86f332884ebf3a7229adcd69095e1a75c67b6f592d9bc09876040516107339190610d04565b60405180910390a3336001600160a01b0316887ffa846712e3aad5270be6e87a086157948b7135d646861466a84f160c0f483ed4866040516107759190610d04565b60405180910390a35050506101ca565b60018101546001600160a01b0386811691161480156107a75750806003015484145b156108165760018101546107c5906001600160a01b031633866100f1565b82516107da906006830190602086019061099b565b50805460028201546040516331a9108f60e11b81526001600160a01b03909216916000918391636352211e916106a79160040190815260200190565b60405163e88a9d4b60e01b8152600481018790526024016101c1565b6000602081905290815260409020805460018201546002830154600384015460048501546005860180546001600160a01b039687169795909616959394929360ff808416946101009094041692919061088a90610d17565b80601f01602080910402602001604051908101604052809291908181526020018280546108b690610d17565b80156109035780601f106108d857610100808354040283529160200191610903565b820191906000526020600020905b8154815290600101906020018083116108e657829003601f168201915b50505050509080600601805461091890610d17565b80601f016020809104026020016040519081016040528092919081815260200182805461094490610d17565b80156109915780601f1061096657610100808354040283529160200191610991565b820191906000526020600020905b81548152906001019060200180831161097457829003601f168201915b5050505050905088565b8280546109a790610d17565b90600052602060002090601f0160209004810192826109c95760008555610a0f565b82601f106109e257805160ff1916838001178555610a0f565b82800160010185558215610a0f579182015b82811115610a0f5782518255916020019190600101906109f4565b50610a1b929150610a1f565b5090565b5b80821115610a1b5760008155600101610a20565b600082601f830112610a44578081fd5b813567ffffffffffffffff80821115610a5f57610a5f610d52565b604051601f8301601f19908116603f01168101908282118183101715610a8757610a87610d52565b81604052838152866020858801011115610a9f578485fd5b8360208701602083013792830160200193909352509392505050565b600060208284031215610acc578081fd5b8151610ad781610d68565b9392505050565b60008060008060008060c08789031215610af6578182fd5b8635610b0181610d68565b95506020870135610b1181610d68565b94506040870135610b2181610d68565b93506060870135610b3181610d68565b9598949750929560808101359460a0909101359350915050565b600080600060608486031215610b5f578283fd5b8335610b6a81610d68565b92506020840135610b7a81610d68565b929592945050506040919091013590565b600060208284031215610b9c578081fd5b5035919050565b600080600080600060a08688031215610bba578081fd5b853594506020860135610bcc81610d68565b935060408601359250606086013567ffffffffffffffff80821115610bef578283fd5b610bfb89838a01610a34565b93506080880135915080821115610c10578283fd5b50610c1d88828901610a34565b9150509295509295909350565b60008060408385031215610c3c578182fd5b50508035926020909101359150565b60008151808452815b81811015610c7057602081850181015186830182015201610c54565b81811115610c815782602083870101525b50601f01601f19169290920160200192915050565b6001600160a01b038981168252881660208201526040810187905260608101869052841515608082015283151560a082015261010060c08201819052600090610ce183820186610c4b565b905082810360e0840152610cf58185610c4b565b9b9a5050505050505050505050565b602081526000610ad76020830184610c4b565b600181811c90821680610d2b57607f821691505b60208210811415610d4c57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114610d7d57600080fd5b5056fea26469706673582212202b6b509ff562c1ab006cf7d4d40ae5ffccd9887af723d86d27cc97b9aaa7b1ed64736f6c63430008040033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c806312e43ec11461005c5780638b90109c14610071578063d2e3922d14610097578063dc6a4c10146100b7578063f029c18c146100ca575b600080fd5b61006f61006a366004610b4b565b6100f1565b005b61008461007f366004610ade565b6101d1565b6040519081526020015b60405180910390f35b6100aa6100a5366004610c2a565b61037a565b60405161008e9190610d04565b61006f6100c5366004610ba3565b610584565b6100dd6100d8366004610b8b565b610832565b60405161008e989796959493929190610c96565b6040516331a9108f60e11b81526004810182905283906000906001600160a01b03831690636352211e9060240160206040518083038186803b15801561013657600080fd5b505afa15801561014a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061016e9190610abb565b9050806001600160a01b0316846001600160a01b0316146101ca5760405162461bcd60e51b81526020600482015260116024820152703bb7b93733903a37b5b2b71037bbb732b960791b60448201526064015b60405180910390fd5b5050505050565b60006101de8786856100f1565b6101e98685846100f1565b6000604051806101000160405280896001600160a01b03168152602001886001600160a01b0316815260200185815260200184815260200160001515815260200160001515815260200160405180602001604052806000815250815260200160405180602001604052806000815250815250905061026b600180546001019055565b600061027660015490565b60008181526020818152604091829020855181546001600160a01b039182166001600160a01b03199182161783558388015160018401805491909316911617905591850151600283015560608501516003830155608085015160048301805460a088015115156101000261ff00199315159390931661ffff199091161791909117905560c085015180519394508593610315926005850192019061099b565b5060e0820151805161033191600684019160209091019061099b565b50506040516001600160a01b03808916925089169083907f1492b5192f7bb12723ebf90b991296ee902cd6723b88f38e9a0ec3c2404d899790600090a498975050505050505050565b6000828152602081815260408083208151610100808201845282546001600160a01b039081168352600184015416948201949094526002820154928101929092526003810154606083810191909152600482015460ff80821615156080860152949004909316151560a083015260058101805493949360c0840191906103ff90610d17565b80601f016020809104026020016040519081016040528092919081815260200182805461042b90610d17565b80156104785780601f1061044d57610100808354040283529160200191610478565b820191906000526020600020905b81548152906001019060200180831161045b57829003601f168201915b5050505050815260200160068201805461049190610d17565b80601f01602080910402602001604051908101604052809291908181526020018280546104bd90610d17565b801561050a5780601f106104df5761010080835404028352916020019161050a565b820191906000526020600020905b8154815290600101906020018083116104ed57829003601f168201915b50505050508152505090508060400151831415801561052d575080606001518314155b1561054e5760405163ae11a8db60e01b8152600481018590526024016101c1565b80604001518314156105655760e00151905061057e565b806060015183141561057c5760c00151905061057e565b505b92915050565b6000858152602081905260409020600281015484148015906105aa575080600301548414155b156105cb5760405163ae11a8db60e01b8152600481018790526024016101c1565b80546001600160a01b038681169116148015906105f8575060018101546001600160a01b03868116911614155b156106195760405163ae11a8db60e01b8152600481018790526024016101c1565b80546001600160a01b0386811691161480156106385750806002015484145b15610785578054610653906001600160a01b031633866100f1565b8251610668906005830190602086019061099b565b50600181015460038201546040516331a9108f60e11b81526001600160a01b03909216916000918391636352211e916106a79160040190815260200190565b60206040518083038186803b1580156106bf57600080fd5b505afa1580156106d3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f79190610abb565b9050806001600160a01b0316887f1ab234db2d5e3b8ec86f332884ebf3a7229adcd69095e1a75c67b6f592d9bc09876040516107339190610d04565b60405180910390a3336001600160a01b0316887ffa846712e3aad5270be6e87a086157948b7135d646861466a84f160c0f483ed4866040516107759190610d04565b60405180910390a35050506101ca565b60018101546001600160a01b0386811691161480156107a75750806003015484145b156108165760018101546107c5906001600160a01b031633866100f1565b82516107da906006830190602086019061099b565b50805460028201546040516331a9108f60e11b81526001600160a01b03909216916000918391636352211e916106a79160040190815260200190565b60405163e88a9d4b60e01b8152600481018790526024016101c1565b6000602081905290815260409020805460018201546002830154600384015460048501546005860180546001600160a01b039687169795909616959394929360ff808416946101009094041692919061088a90610d17565b80601f01602080910402602001604051908101604052809291908181526020018280546108b690610d17565b80156109035780601f106108d857610100808354040283529160200191610903565b820191906000526020600020905b8154815290600101906020018083116108e657829003601f168201915b50505050509080600601805461091890610d17565b80601f016020809104026020016040519081016040528092919081815260200182805461094490610d17565b80156109915780601f1061096657610100808354040283529160200191610991565b820191906000526020600020905b81548152906001019060200180831161097457829003601f168201915b5050505050905088565b8280546109a790610d17565b90600052602060002090601f0160209004810192826109c95760008555610a0f565b82601f106109e257805160ff1916838001178555610a0f565b82800160010185558215610a0f579182015b82811115610a0f5782518255916020019190600101906109f4565b50610a1b929150610a1f565b5090565b5b80821115610a1b5760008155600101610a20565b600082601f830112610a44578081fd5b813567ffffffffffffffff80821115610a5f57610a5f610d52565b604051601f8301601f19908116603f01168101908282118183101715610a8757610a87610d52565b81604052838152866020858801011115610a9f578485fd5b8360208701602083013792830160200193909352509392505050565b600060208284031215610acc578081fd5b8151610ad781610d68565b9392505050565b60008060008060008060c08789031215610af6578182fd5b8635610b0181610d68565b95506020870135610b1181610d68565b94506040870135610b2181610d68565b93506060870135610b3181610d68565b9598949750929560808101359460a0909101359350915050565b600080600060608486031215610b5f578283fd5b8335610b6a81610d68565b92506020840135610b7a81610d68565b929592945050506040919091013590565b600060208284031215610b9c578081fd5b5035919050565b600080600080600060a08688031215610bba578081fd5b853594506020860135610bcc81610d68565b935060408601359250606086013567ffffffffffffffff80821115610bef578283fd5b610bfb89838a01610a34565b93506080880135915080821115610c10578283fd5b50610c1d88828901610a34565b9150509295509295909350565b60008060408385031215610c3c578182fd5b50508035926020909101359150565b60008151808452815b81811015610c7057602081850181015186830182015201610c54565b81811115610c815782602083870101525b50601f01601f19169290920160200192915050565b6001600160a01b038981168252881660208201526040810187905260608101869052841515608082015283151560a082015261010060c08201819052600090610ce183820186610c4b565b905082810360e0840152610cf58185610c4b565b9b9a5050505050505050505050565b602081526000610ad76020830184610c4b565b600181811c90821680610d2b57607f821691505b60208210811415610d4c57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b6001600160a01b0381168114610d7d57600080fd5b5056fea26469706673582212202b6b509ff562c1ab006cf7d4d40ae5ffccd9887af723d86d27cc97b9aaa7b1ed64736f6c63430008040033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
